{{ form_start(form, {
    'attr': {
        'ng-submit': 'onSubmitForm'
    }}) }}
{% form_theme form 'bootstrap_3_layout.html.twig' %}
    {# Identificação do utente #}
    <div class="row" ng-init="loadForm('{{entity.sector}}', '{{entity.complaintCategory}}', '{{entity.sectorDescr}}')">
        <div class="col-md-6">
            <div style="color: gray;margin-bottom: 20px;">
                <span class="fa fa-user"></span>
                Identificação do utente
            </div>

            <div class="form-group">
                <label>Nome</label>
                {{ form_widget(form.name, {
                    'attr' : {
                        'disabled' : entity.disabled
                    }
                }) }}
            </div>

            <div class="form-group">
                <label>Morada</label>
                {{ form_widget(form.address, {
                    'attr' : {
                        'disabled' : entity.disabled
                    }
                }) }}
            </div>

            <div class="form-group">
                <label>Localidade</label>
                {{ form_widget(form.locality, {
                    'attr' : {
                        'disabled' : entity.disabled
                    }
                }) }}
            </div>

            <div class="form-group">
                <label>Telefone</label>
                {{ form_widget(form.phone, {
                    'attr' : {
                        'disabled' : entity.disabled
                    }
                }) }}
            </div>

            <div class="form-group">
                <label>Email</label>
                {{ form_widget(form.email, {
                    'attr' : {
                        'disabled' : entity.disabled
                    }
                }) }}
            </div>
        </div>

        <div class="col-md-6">
            <div style="color: gray;margin-bottom: 20px;">
                <span class="fa fa-archive"></span>
                Queixa/Denúncia
            </div>

            <div class="form-group">
                <label>Tipo</label>
                {{ form_widget(form.type, {
                    'attr' : {
                        'disabled' : entity.disabled
                    }
                }) }}
            </div>

            <div class="form-group hidden">
                <label>Data de criação</label>
                {{ form_widget(form.createdAt, {
                    'read_only' : true
                }) }}
            </div>

            <div class="form-group">
                <label>Sector</label>
                {{ form_widget(form.sector, {
                    'ng-model': 'entity_sector',
                }) }}

                <div style="margin-top: 20px;"></div>

                <div ng-if="entity_sector=='farm'">
                    <ul class="unstyled">
                        <li><input type="radio" 
                                value="m1"
                                ng-checked="entity_cat.val=='m1'"
                                ng-model="entity_cat.val"
                            /> Biocidas</li>

                        <li><input type="radio" 
                                value="m2"
                                ng-checked="entity_cat.val=='m2'"
                                ng-model="entity_cat.val"
                            /> Medicamentos de Uso Humano</li>
                        
                        <li><input type="radio" 
                                value="m3"
                                ng-checked="entity_cat.val=='m3'"
                                ng-model="entity_cat.val"
                            /> Produtos Cosméticos</li>
                        
                        <li><input type="radio" 
                                ng-checked="entity_cat.val=='m4'"
                                ng-model="entity_cat.val"
                                value="m4"
                            /> Produtos Químico-farmacêuticos</li>
                        
                        <li><input type="radio" 
                                ng-checked="entity_cat.val=='m5'"
                                ng-model="entity_cat.val"
                                value="m5"
                            /> Outros</li>

                        <li ng-if="entity_cat.val=='m5'">
                            <div>
                                <textarea id="sector_descr1"
                                rows="3"></textarea>
                            </div>
                        </li>
                    </ul>
                </div>

                <div ng-if="entity_sector == 'alim'">
                    <ul class="unstyled">
                        <li><input type="radio"  
                            ng-checked="entity_cat.val=='a1'"
                            ng-model="entity_cat.val"
                            value="a1"
                            /> Alimentos destinados ao Consumo Humano</li>
                        
                        <li><input type="radio"  
                            ng-model="entity_cat.val"
                            value="a2"
                            ng-checked="entity_cat.val=='a2'"
                            /> Suplementos e Aditivos Alimentares</li>
                        
                        <li><input type="radio" 
                            ng-model="entity_cat.val"
                            value="a3"
                            ng-checked="entity_cat.val=='a3'"
                            /> Alimentos com propriedades Funcionais</li>
                        
                        <li><input type="radio"
                            ng-model="entity_cat.val"
                            value="a4"
                            ng-checked="entity_cat.val=='a4'"
                            /> Outros</li>

                        <li ng-if="entity_cat.val=='a4'">
                            <div>
                                <textarea id="sector_descr2"
                                rows="3"></textarea>
                            </div>
                        </li>
                    </ul>
                </div>

                {{ form_widget(form.complaintCategory, {'attr': {
                    'style' : 'display: none',
                    'disabled' : entity.disabled
                }}) }}
            </div>

            <div class="form-group">
            </div>
        </div>

        {# <div class="col-md-12">
            {% if entity.id %}
                <div class="form-group">
                    <label>Enviar para</label>
                    {{ form_widget(form.stage) }}
                </div>
            {% else %}
                <div class="form-group" style="display:none">
                    {{ form_widget(form.stage) }}
                </div>
            {% endif %}
        </div> #}
    </div>

    {# Identificação do Operador Económico #}
    <div class="row" style="margin-top:25px;">
        <div class="col-md-12">
            <div style="color: gray;margin-bottom: 20px;">
                <span class="fa fa-archive"></span>
                Identificação do Operador Económico
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-group">
                <label>Nome</label>
                {{ form_widget(form.opName, {
                    'attr' : {
                        'disabled' : entity.disabled
                    }
                }) }}
            </div>
            <div class="form-group">
                <label>Morada</label>
                {{ form_widget(form.opAddress, {
                    'attr' : {
                        'disabled' : entity.disabled
                    }
                }) }}
            </div>
            <div class="form-group">
                <label>Localidade</label>
                {{ form_widget(form.opLocality, {
                    'attr' : {
                        'disabled' : entity.disabled
                    }
                }) }}
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-group">
                <label>Telefone</label>
                {{ form_widget(form.opPhone, {
                    'attr' : {
                        'disabled' : entity.disabled
                    }
                }) }}
            </div>
            <div class="form-group">
                <label>Email</label>
                {{ form_widget(form.opEmail, {
                    'attr' : {
                        'disabled' : entity.disabled
                    }
                }) }}
            </div>
        </div>
    </div>

    {# Descrição dos Fatos #}
    <div class="row" style="margin-top:25px;">
        <div class="col-md-12">
            <div style="color: gray;margin-bottom: 20px;">
                <span class="fa fa-archive"></span>
                Descrição sum&aacute;ria dos fatos
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-group">
                <label>Data</label>
                <br/>
                {% if entity.disabled %}
                    <div class="hidden">
                    {{ form_widget(form.factDate) }}
                    </div>
                    <input disabled="" class="form-control" value="{{entity.factDate|date('Y-m-d')}}" />
                {% else %}
                    {{ form_widget(form.factDate) }}
                {% endif %}
            </div>

            <div class="form-group">
                <label>Local</label>
                {{ form_widget(form.factLocality, {
                    'attr' : {
                        'disabled' : entity.disabled
                    }
                }) }}
            </div>

            <div class="form-group">
                <label>Descri&ccedil;&atilde;o</label>
                {{ form_widget(form.factDetail, {
                    'attr' : {
                        'disabled' : entity.disabled
                    }
                }) }}
            </div>

            <div class="form-group">
                <label>Entrega do produto a ARFA ?</label>
                {# <br/>Sim<br/>N&atilde;o #}
                {{ form_widget(form.hasProduct, {
                    'attr' : {
                        'disabled' : entity.disabled
                    }
                }) }}
            </div>

            <div class="form-group">

                <div class="hidden">
                   {{ form_widget(form.submit, {
                        'attr' : {
                            'disabled' : entity.disabled
                        }
                    }) }}
                    {{ form_widget(form.sectorDescr, {'attr': {
                    }}) }}
                </div>

                <button type="button" class="btn btn-success btn" ng-click="onSubmitForm()">
                    Enviar formulário
                </button>

            </div>
        </div>

        <div class="col-md-6">
            <div class="form-group">
                {# {{ form_widget(form.hasAnnex) }} #}
            </div>

            <div class="form-group">
                {# <label>Tipo do anexo</label> #}
                {# {{ form_widget(form.annexType) }} #}
            </div>
        </div>

        {{ form(form) }}
    </div>
{{ form_end(form) }}
